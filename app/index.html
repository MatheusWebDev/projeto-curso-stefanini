<!DOCTYPE html>
<html ng-app="pokemonApp">

<head>
   <!-- Required meta tags -->
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <title>Page Title</title>

   <!-- Bootstrap CSS -->
   <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">

   <link rel="stylesheet" href="../node_modules/@fortawesome/fontawesome-free/css/all.min.css">
   <link rel="stylesheet" href="css/app.css">
   <!-- SCRIPTS -->
   <script src="../node_modules/angular/angular.min.js"></script>
   <script src="js/controllers/pokemon.controller.js"></script>
</head>

<body ng-controller="pokemonController">
   <div class="container">
      <div class="jumbotron">
         <h2 class="text-center">Lista de Pokemons</h2>
         <form ng-show="showForm" name="cadastrarPokemon" class="mt-3 w-50 mx-auto" ng-submit="inserir(pokemon)">
               <div class="form-group">
                  <label for="nome" class="h6 mr-3">Nome: </label>
                  <input type="text" name="nome" ng-model="pokemon.nome" ng-required="true" class="form-control" />
               </div>
               <div class="form-group">
                  <label for="tipoPokemon">Tipo: </label>
                  <select class="form-control" ng-model="pokemon.tipo" ng-required="true" ng-options="tipo.descricao for tipo in tiposPokemons track by tipo.cod"
                     id="tipoPokemon">
                     <option value="">Selecione um tipo</option>
                  </select>
               </div>
               <button type="submit" class="btn btn-info btn-block" ng-disabled="cadastrarPokemon.$invalid" ng-click="showForm = !showForm">Salvar</button>
            </form>
            <h4 class="text-center text-danger" ng-hide="listaPokemons.length || showForm">Nenhum pokemon encontrado!</h4>
            <div ng-show="!showForm">
               <table class="table mt-3 bg-white w-50 mx-auto" ng-show="listaPokemons.length">
                  <thead class="thead-dark">
                     <tr>
                        <th scope="col">#</th>
                        <th scope="col">Pokemon</th>
                        <th class="text-center" scope="col">Tipo</th>
                        <th></th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr ng-repeat="pokemon in listaPokemons track by $index">
                        <td>{{pokemon.id}}</td>
                        <td>{{pokemon.nome}}</td>
                        <td class="text-center">{{pokemon.tipo.descricao}}</td>
                        <td class="text-right">
                           <button class="btn btn-primary btn-sm mr-2" ng-click="editar(pokemon)">
                              <i class="far fa-edit"></i>
                           </button>
                           <button class="btn btn-danger btn-sm" ng-click="deletar($index)">
                              <i class="far fa-trash-alt"></i>
                           </button>
                        </td>
                     </tr>
                  </tbody>
               </table>

               <div class="d-flex justify-content-center">
                  <button class="btn btn-info text-center" ng-click="showForm = !showForm">Inserir</button>
               </div>
            </div>
      </div>
   </div>

   <!-- Optional JavaScript -->
   <!-- jQuery first, then Popper.js, then Bootstrap JS -->
   <script src="../node_modules/jquery/dist/jquery.min.js"></script>
   <script src="../node_modules/popper.js/dist/popper.min.js"></script>
   <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
</body>

</html>